2025-05-15 21:31:07,832 - INFO - ======= DORMANT ACCOUNT RULE TEST EXECUTION =======
2025-05-15 21:31:07,832 - INFO - Request method: POST
2025-05-15 21:31:07,832 - INFO - Form data: account_number=ACCT123456789, transaction_id=
2025-05-15 21:31:07,832 - INFO - Options: run_all=True, force_test_mode=True, force_dormant=True
2025-05-15 21:31:07,832 - INFO - Testing all transactions for account ACCT123456789
2025-05-15 21:31:07,845 - INFO - Account found: ACCT123456789
2025-05-15 21:31:07,857 - INFO - Found 1 transactions for account
2025-05-15 21:31:07,868 - INFO - Testing transaction: TRX20231128001
2025-05-15 21:31:07,870 - ERROR - Error processing account ACCT123456789: Cannot resolve keyword 'account_id' into field. Choices are: account_type, activity_end_date, activity_start_date, alert_date, alert_details, alert_id, alert_level, alert_score, alert_summary, alert_timestamp, alert_title, assigned_date, assigned_to, close_reason, created_at, currency_code, customer_risk_level, involves_cash, involves_dormant_account, involves_high_risk_country, involves_high_risk_party, involves_high_risk_transaction_type, primary_account, primary_account_id, primary_account_number, primary_customer, primary_customer_id, primary_customer_name, primary_customer_number, related_entities, resolution_action, resolution_date, review_notes, reviewed_by, reviewed_date, rule, rule_code, rule_id, rule_specific_data, rule_type, sar_reference, sar_relationships, status, total_amount, transaction_count, triggering_transaction, triggering_transaction_id, updated_at
2025-05-15 21:31:07,873 - ERROR - Traceback (most recent call last):
  File "C:\Users\bless\Desktop\aml_project\transaction_monitoring\views.py", line 1067, in run_dormant_account_rule_view
    triggered, details = rule_processor.evaluate(transaction, test_context)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bless\Desktop\aml_project\transaction_monitoring\monitoring\rules\dormant_account.py", line 229, in evaluate
    existing_alerts = Alert.objects.filter(
                      ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bless\anaconda3\envs\django_env\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bless\anaconda3\envs\django_env\Lib\site-packages\django\db\models\query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bless\anaconda3\envs\django_env\Lib\site-packages\django\db\models\query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "C:\Users\bless\anaconda3\envs\django_env\Lib\site-packages\django\db\models\query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "C:\Users\bless\anaconda3\envs\django_env\Lib\site-packages\django\db\models\sql\query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bless\anaconda3\envs\django_env\Lib\site-packages\django\db\models\sql\query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bless\anaconda3\envs\django_env\Lib\site-packages\django\db\models\sql\query.py", line 1491, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bless\anaconda3\envs\django_env\Lib\site-packages\django\db\models\sql\query.py", line 1303, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bless\anaconda3\envs\django_env\Lib\site-packages\django\db\models\sql\query.py", line 1768, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'account_id' into field. Choices are: account_type, activity_end_date, activity_start_date, alert_date, alert_details, alert_id, alert_level, alert_score, alert_summary, alert_timestamp, alert_title, assigned_date, assigned_to, close_reason, created_at, currency_code, customer_risk_level, involves_cash, involves_dormant_account, involves_high_risk_country, involves_high_risk_party, involves_high_risk_transaction_type, primary_account, primary_account_id, primary_account_number, primary_customer, primary_customer_id, primary_customer_name, primary_customer_number, related_entities, resolution_action, resolution_date, review_notes, reviewed_by, reviewed_date, rule, rule_code, rule_id, rule_specific_data, rule_type, sar_reference, sar_relationships, status, total_amount, transaction_count, triggering_transaction, triggering_transaction_id, updated_at

2025-05-15 21:31:07,873 - INFO - Rule processing completed. 0 alerts generated.
2025-05-15 21:31:07,876 - INFO - Loaded rule configuration: AML-ADR-ALL-ALL-A-M06-AIN
2025-05-15 21:31:07,878 - INFO - Loaded 1 accounts and 1 transactions for dropdowns
