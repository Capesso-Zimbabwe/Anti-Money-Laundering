
{% load static tailwind_tags %}
{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}AML System{% endblock %}</title>
    {% tailwind_css %}
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/dist/tailwind.min.css" rel="stylesheet">

  <!-- Google Fonts: Inter -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      font-size: 12px;
      margin: 0;
    }
    
    /* Custom hover effects */
    .sidebar-item:hover {
      background-color: rgba(255, 255, 255, 0.1) !important;
      transition: background-color 200ms ease-in-out !important;
    }

    /* Custom scrollbar styles */
    .overflow-y-auto {
      scrollbar-width: thin;
      scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
    }
    
    .overflow-y-auto::-webkit-scrollbar {
      width: 6px;
    }
    
    .overflow-y-auto::-webkit-scrollbar-track {
      background: transparent;
    }
    
    .overflow-y-auto::-webkit-scrollbar-thumb {
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 3px;
    }
    
    .overflow-y-auto::-webkit-scrollbar-thumb:hover {
      background-color: rgba(255, 255, 255, 0.3);
    }
  </style>
  {% block extra_head %}{% endblock %}
</head>

<body class="text-[12px]">
    <!-- Sidebar -->
  <aside id="sidebar-multi-level-sidebar" class="fixed top-0 left-0 z-40 w-64 h-screen transition-transform -translate-x-full sm:translate-x-0" aria-label="Sidebar">
    <div style="background-color: #0E0B2B !important;" class="flex flex-col h-full px-3 py-4 overflow-y-auto">
      <div class="flex items-center mb-4">
      <img src="{% static 'images/icon.webp' %}" alt="AML Logo" class="rounded-full  h-10 mr-2">
      <span class="font-bold text-white text-lg">AML System</span>
    </div>

      <ul class="space-y-2 font-medium flex-1">
        <!-- Dashboard -->
        <li>
          <a href="{% url 'dashboard' %}" class="sidebar-item flex items-center p-2 text-gray-100 rounded-lg">
            <svg class="w-5 h-5 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m4 12 8-8 8 8M6 10.5V19a1 1 0 0 0 1 1h3v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h3a1 1 0 0 0 1-1v-8.5"/>
            </svg>
            <span class="flex-1 ms-3 whitespace-nowrap">Dashboard</span>
          </a>
        </li>


        <!-- Reports -->
        <li class="mt-8">
          <div class="pt-2">
            <button type="button" class="flex items-center w-full p-2 text-gray-100 rounded-lg hover:bg-white/10" aria-controls="dropdown-reports" data-collapse-toggle="dropdown-reports">
              <svg class="w-5 h-5 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              </svg>
              <span class="flex-1 ms-3 text-left rtl:text-right whitespace-nowrap">Reports</span>
              <svg class="w-3 h-3 transition-transform duration-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
              </svg>
            </button>
            <ul id="dropdown-reports" class="hidden py-2 space-y-2">
              <li>
                <a href="{%url 'suspicious_activity_report_view'%}" class="sidebar-item flex items-center w-full p-2 text-gray-100 rounded-lg pl-11">
                  <svg class="w-5 h-5 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M6 14h2m3 0h5M3 7v10c0 .6.4 1 1 1h16c.6 0 1-.4 1-1V7c0-.6-.4-1-1-1H4c-.6 0-1 .4-1 1Z"/>
                  </svg>
                  <span class="ms-3">Transactions</span>
                </a>
            </li>
            <li>
                <a href="{%url 'kyc_app:aml_report_kyc'%}" class="sidebar-item flex items-center w-full p-2 text-gray-100 rounded-lg pl-11">
                  <svg class="w-5 h-5 text-gray-100" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M6 2c-1.10457 0-2 .89543-2 2v4c0 .55228.44772 1 1 1s1-.44772 1-1V4h12v7h-2c-.5523 0-1 .4477-1 1v2h-1c-.5523 0-1 .4477-1 1s.4477 1 1 1h5c.5523 0 1-.4477 1-1V3.85714C20 2.98529 19.3667 2 18.268 2H6Z"/>
                    <path d="M6 11.5C6 9.567 7.567 8 9.5 8S13 9.567 13 11.5 11.433 15 9.5 15 6 13.433 6 11.5ZM4 20c0-2.2091 1.79086-4 4-4h3c2.2091 0 4 1.7909 4 4 0 1.1046-.8954 2-2 2H6c-1.10457 0-2-.8954-2-2Z"/>
                  </svg>
                  <span class="ms-3">KYC</span>
                </a>
              </li>

            
         

            <li>
              <a href="{%url 'suspicious_transaction_report'%}" class="sidebar-item flex items-center w-full p-2 text-gray-100 rounded-lg pl-11">
                <svg class="w-5 h-5 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
                <span class="ms-3">RBZ Disclosure</span>
              </a>
            </li>
          
          </div>
            </li>
        <!-- KYC Section -->
        <li>
          <div class="pt-2">
            <button type="button" class="flex items-center w-full p-2 text-gray-100 rounded-lg hover:bg-white/10" aria-controls="dropdown-kyc" data-collapse-toggle="dropdown-kyc">
              <svg class="w-5 h-5 text-gray-100" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
              <path d="M6 2c-1.10457 0-2 .89543-2 2v4c0 .55228.44772 1 1 1s1-.44772 1-1V4h12v7h-2c-.5523 0-1 .4477-1 1v2h-1c-.5523 0-1 .4477-1 1s.4477 1 1 1h5c.5523 0 1-.4477 1-1V3.85714C20 2.98529 19.3667 2 18.268 2H6Z"/>
              <path d="M6 11.5C6 9.567 7.567 8 9.5 8S13 9.567 13 11.5 11.433 15 9.5 15 6 13.433 6 11.5ZM4 20c0-2.2091 1.79086-4 4-4h3c2.2091 0 4 1.7909 4 4 0 1.1046-.8954 2-2 2H6c-1.10457 0-2-.8954-2-2Z"/>
            </svg>
              <span class="flex-1 ms-3 text-left rtl:text-right whitespace-nowrap">KYC Management</span>
              <svg class="w-3 h-3 transition-transform duration-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
            </svg>
            </button>
            <ul id="dropdown-kyc" class="hidden py-2 space-y-2">
              <li>
                <a href="{% url 'kyc_app:register_kyc_profile' %}" class="sidebar-item flex items-center w-full p-2 text-gray-100 rounded-lg pl-11">
                  <svg class="w-4 h-4 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z"/>
                  </svg>
                  <span class="ms-3">Register KYC Profile</span>
                </a>
            </li>

            <li>
              <a href="{% url 'kyc_app:register_kyc_business' %}" class="sidebar-item flex items-center w-full p-2 text-gray-100 rounded-lg pl-11">
                <svg class="w-4 h-4 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z"/>
                </svg>
                <span class="ms-3">Register KYC Business</span>
              </a>
          </li>

          
            <li>
                <a href="{% url 'kyc_app:kyc_search' %}" class="sidebar-item flex items-center w-full p-2 text-gray-100 rounded-lg pl-11">
                  <svg class="w-4 h-4 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M10 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14a6 6 0 1 1 0-12 6 6 0 0 1 0 12z"/>
                    <path d="M21.707 21.707a1 1 0 0 1-1.414 0l-3.5-3.5a1 1 0 0 1 1.414-1.414l3.5 3.5a1 1 0 0 1 0 1.414z"/>
                    </svg>
                  <span class="ms-3">Search</span>
                </a>
            </li>
            <li>
                <a href="{% url 'kyc_app:run_kyc_aml_screening' %}" class="sidebar-item flex items-center w-full p-2 text-gray-100 rounded-lg pl-11">
                  <svg class="w-4 h-4 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M7.5 6.75V0h9v6.75h-9zm9 3.75V24h-9V10.5h9zM16.5 0h5.25v6.75h-5.25V0zm0 10.5h5.25v13.5h-5.25V10.5zM2.25 0h5.25v6.75H2.25V0zm0 10.5h5.25v13.5H2.25V10.5z"/>
                    </svg>
                  <span class="ms-3">Batch screening</span>
                </a>
            </li>
            <li>
                <a href="{% url 'kyc_app:check_individual' %}" class="sidebar-item flex items-center w-full p-2 text-gray-100 rounded-lg pl-11">
                  <svg class="w-4 h-4 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-13h-2v6h6v-2h-4V7z"/>
                    </svg>
                  <span class="ms-3">Individual Check</span>
                </a>
            </li>
          </ul>
          </div>
        </li>

        <!-- Alerts -->
        <li>
          <a href="{% url 'list_alerts' %}" class="sidebar-item flex items-center p-2 text-gray-100 rounded-lg">
            <svg class="w-5 h-5 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5.365V3m0 2.365a5.338 5.338 0 0 1 5.133 5.368v1.8c0 2.386 1.867 2.982 1.867 4.175 0 .593 0 1.193-.538 1.193H5.538c-.538 0-.538-.6-.538-1.193 0-1.193 1.867-1.789 1.867-4.175v-1.8A5.338 5.338 0 0 1 12 5.365Zm-8.134 5.368a8.458 8.458 0 0 1 2.252-5.714m14.016 5.714a8.458 8.458 0 0 0-2.252-5.714M8.54 17.901a3.48 3.48 0 0 0 6.92 0H8.54Z"/>
            </svg>
            <span class="flex-1 ms-3 whitespace-nowrap">Alerts</span>
            {% if open_alert_count > 0 %}
            <!-- Badge for open alerts -->
            <span class="ml-2 inline-block bg-red-600 text-white text-xs font-semibold px-2 py-1 rounded-full">
              {{ open_alert_count }}
            </span>
            {% endif %}
          </a>
        </li>

        <!-- Transaction Monitoring -->
        <li>
          <a href="{% url 'run_aml_screening' %}" class="sidebar-item flex items-center p-2 text-gray-100 rounded-lg">
            <svg class="w-5 h-5 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M6 14h2m3 0h5M3 7v10c0 .6.4 1 1 1h16c.6 0 1-.4 1-1V7c0-.6-.4-1-1-1H4c-.6 0-1 .4-1 1Z"/>
            </svg>
            <span class="flex-1 ms-3 whitespace-nowrap">Transactions Monitoring</span>
          </a>
        </li>

        <!-- Risk Definitions -->
        <li>
          <a href="{% url 'risk_definitions' %}" class="sidebar-item flex items-center p-2 text-gray-100 rounded-lg">
            <svg class="w-5 h-5 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 13V8m0 8h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
            </svg>
            <span class="flex-1 ms-3 whitespace-nowrap">Risk Definitions</span>
          </a>
        </li>

        <!-- Data Loading -->
        <li>
          <a href="#" class="sidebar-item flex items-center p-2 text-gray-100 rounded-lg">
            <svg class="w-5 h-5 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v9m-5 0H5a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-2M8 9l4-5 4 5m1 8h.01"/>
                    </svg>
            <span class="flex-1 ms-3 whitespace-nowrap">Data Loading</span>
                </a>
            </li>

        <!-- Settings Section -->

        <li class="mt-8">
          <div class="pt-2">
            <button type="button" class="flex items-center w-full p-2 text-gray-100 rounded-lg hover:bg-white/10" aria-controls="dropdown-settings" data-collapse-toggle="dropdown-settings">
              <svg class="w-5 h-5 text-gray-100" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13v-2a1 1 0 0 0-1-1h-.757l-.707-1.707.535-.536a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0l-.536.535L14 4.757V4a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v.757l-1.707.707-.536-.535a1 1 0 0 0-1.414 0L4.929 6.343a1 1 0 0 0 0 1.414l.535.536L4.757 10H4a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h.757l.707 1.707-.535.536a1 1 0 0 0 0 1.414l1.414 1.414a1 1 0 0 0 1.414 0l.536-.535L10 19.243V20a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-.757l1.707-.708.536.536a1 1 0 0 0 1.414 0l1.414-1.414a1 1 0 0 0 0-1.414l-.535-.536.707-1.707H20a1 1 0 0 0 1-1ZM12 15a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z"/>
              </svg>
              <span class="flex-1 ms-3 text-left rtl:text-right whitespace-nowrap">Settings</span>
              <svg class="w-3 h-3 transition-transform duration-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
              </svg>
            </button>
            <ul id="dropdown-settings" class="hidden py-2 space-y-2">
              <li>
                <a href="{% url 'aml_configuration' %}" class="sidebar-item flex items-center w-full p-2 text-gray-100 rounded-lg pl-11">
                  <svg class="w-4 h-4 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 9h3m-3 3h3m-3 3h3m-6 1c-.306-.613-.933-1-1.618-1H7.618c-.685 0-1.312.387-1.618 1M4 5h16c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H4c-.6 0-1-.4-1-1V6c0-.6.4-1 1-1Zm7 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0 Z"/>
                    </svg>
                  <span class="ms-3">AML Configurations</span>
                </a>
            </li>
            <li>
                <a href="#" class="sidebar-item flex items-center w-full p-2 text-gray-100 rounded-lg pl-11">
                  <svg class="w-4 h-4 text-gray-100 transition duration-75 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd" d="M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-2 9a4 4 0 0 0-4 4v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-1a4 4 0 0 0-4-4H6Zm7.25-2.095c.478-.86.75-1.85.75-2.905a5.973 5.973 0 0 0-.75-2.906 4 4 0 1 1 0 5.811ZM15.466 20c.34-.588.535-1.271.535-2v-1a5.978 5.978 0 0 0-1.528-4H18a4 4 0 0 1 4 4v1a2 2 0 0 1-2 2h-4.535Z" clip-rule="evenodd"/>
</svg>
                  <span class="ms-3">Users</span>
                </a>
              </li>
            </ul>
          </div>
            </li>
        </ul>

      <!-- User info and Logout at bottom -->
      <div class="px-4 py-4 border-t border-gray-200">
        {% if user.is_authenticated %}
        <div class="flex items-center">
          {% if user.profile.avatar %}
          <img src="{% static 'images/avater.jpg' %}" alt="User Avatar" class="w-10 h-10 rounded-full mr-3">
          {% else %}
          <img src="{% static 'images/avater.jpg' %}" alt="" class="w-10 h-10 rounded-full mr-3">
          {% endif %}
          <div class="leading-tight">
            <div class="font-bold text-white">{{ user.get_full_name|default:user.username }}</div>
            <div class="text-xs text-white">Logged in</div>
          </div>
        </div>
        <!-- Logout Form using POST -->
        <form method="post" action="{% url 'logout' %}" class="mt-2">
          {% csrf_token %}
          <button type="submit"
            class="w-full text-left px-4 py-2 font-bold text-white bg-[#f68430] rounded-lg hover:bg-orange-300">
            Logout
          </button>
        </form>
        {% else %}
        <a href="{% url 'login' %}" class="block px-4 py-2 font-bold text-white hover:bg-gray-100">
          Login
        </a>
        {% endif %}
      </div>
    </div>

     
    </div>
    </div>
  </aside>

  <!-- Main Content Area -->
  <div class="ml-[250px] p-4">
    {% block content %}{% endblock %}
  </div>

  <script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
  {% block extra_js %}{% endblock %}
</body>

</html>
